(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{765:function(t,e,o){"use strict";o.r(e);o(7),o(30),o(10),o(11),o(19),o(20),o(14),o(187),o(12);var r=o(3),c=o(638),n=o(101),l=o.n(n);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={components:{bannerSell:c.a},data:function(){return{modalCategories:!1,categories:[],products:[]}},created:function(){this.getProducts(),this.getCategories()},methods:{pictureUrl:function(picture){return picture.formats?picture.formats.small?picture.formats.small.url:picture.formats.thumbnail.url:"https://compraventa.nyc3.digitaloceanspaces.com/upload/".concat(picture.hash).concat(picture.ext)},likeOrDislike:function(t,e){var o=this;t.likeUser?this.$axios.delete("/announcements/removeLike/".concat(t.id,"/")).then((function(r){o.$set(o.products,e,v(v({},t),{},{likeUser:0}))})):this.$axios.put("/announcements/addLike/".concat(t.id,"/")).then((function(r){o.$set(o.products,e,v(v({},t),{},{likeUser:1}))}))},pushCategory:function(t){this.$router.push({query:{category:t.id}}),this.modalCategories=!1},getCategories:function(){var t=this;l.a.get(this.$axios.defaults.baseURL+"/categories/?_sort=name:ASC").then((function(data){t.categories=data.data}))},getProducts:function(){var t=this;this.products=[];var e={_sort:"destacado:desc"};this.$route.query.q&&(e.q=this.$route.query.q),this.$route.query.category&&(e.category=this.$route.query.category),this.$route.query.destacado&&(e.destacado=!0),l.a.get(this.$axios.defaults.baseURL+"/announcements/",{params:e}).then((function(data){t.products=data.data}))}},computed:{filterProducts:function(){return this.products.sort((function(a,b){return a.destacado?-1:1}))}},watch:{"$route.query.q":function(){this.getProducts()},"$route.query.category":function(){this.getProducts()},"$route.query.destacado":function(){this.getProducts()}}},f=o(18),m=o(17),y=o.n(m),_=o(364),C=o(382),w=o(379),k=o(393),x=o(400),O=o(389),V=o(753),$=o(170),j=o(246),P=o(597),L=o(582),D=o(598),S=o(388),U=o(401),I=o(376),T=o(43),A=o(58),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("bannerSell",{staticClass:"mt-n4"}),t._v(" "),o("v-row",[o("v-col",{staticClass:"col-12 col-md-12"},[o("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(e){t.modalCategories=!0}}},[o("v-icon",[t._v("mdi-filter-variant")]),t._v(" Categorias\n      ")],1)],1),t._v(" "),t._l(t.filterProducts,(function(e,r){return o("v-col",{key:e.id,staticClass:"col-12 col-md-12"},[o("v-card",{staticClass:"rounded-lg",attrs:{outlined:"",to:"/products/single/"+e.id}},[o("div",{attrs:{elevation:1}},[e.pictures.length>0?o("v-img",{staticClass:"pa-2 heigh-vh-p width-vh-p p-relative",attrs:{height:"200",cover:"",src:t.pictureUrl(e.pictures[0])}},[o("div",{staticClass:"d-flex justify-space-between flex-column",staticStyle:{height:"100%"}},[o("div",{staticClass:"d-flex justify-space-between"},[e.destacado?o("v-btn",{attrs:{depressed:"",left:"",absolute:"",rounded:"",small:"",color:"primary"}},[o("v-icon",{attrs:{size:"15"}},[t._v("fa-star")]),t._v("  Destacado\n                ")],1):t._e(),t._v(" "),t.$auth.loggedIn?o("v-btn",{attrs:{"x-small":"",fab:"",right:"",absolute:"",id:"heartLike",elevation:"0",color:"#eceff14d"},on:{click:function(o){return t.likeOrDislike(e,r)}}},[o("v-icon",{attrs:{color:0!=e.likeUser?"pink accent-2":"grey blue lighten-3"}},[t._v("mdi-heart")])],1):t._e()],1),t._v(" "),o("div",{staticClass:"d-flex justify-start"},[o("v-chip",{staticStyle:{width:"50px"},attrs:{small:"",icon:"",color:"primary"}},[o("span",{staticClass:"font-weight-bold mr-1"},[t._v(t._s(e.views))]),t._v(" "),o("v-icon",{attrs:{color:"white",small:""}},[t._v("mdi-eye")])],1)],1)])]):t._e()],1),t._v(" "),o("v-card-actions",{staticClass:"py-3 d-flex align-start"},[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",{staticClass:"col-12 col-md-12"},[o("h4",{staticClass:"font-weight-black black--text"},[t._v(t._s(e.name))])]),t._v(" "),o("v-col",{staticClass:"col-12 col-md-12"})],1),t._v(" "),o("v-spacer"),t._v(" "),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",{staticClass:"col-12 col-md-12 text-right"}),t._v(" "),o("v-col",{staticClass:"col-12 col-md-12 text-right"},[e.category?o("span",{staticClass:"font-weight-bold black--text caption"},[t._v("/"+t._s(e.category.name))]):t._e()])],1)],1)],1)],1)}))],2),t._v(" "),o("v-dialog",{model:{value:t.modalCategories,callback:function(e){t.modalCategories=e},expression:"modalCategories"}},[o("v-card",[o("v-toolbar",{staticClass:"elevation-0 white--text",attrs:{color:"primary"}},[o("v-toolbar-title",[t._v("Categorias")])],1),t._v(" "),o("v-card-text",[o("v-list",[t._l(t.categories,(function(e){return[o("v-list-item",{key:e.id,on:{click:function(o){return t.pushCategory(e)}}},[o("v-list-item-title",[t._v(t._s(e.name))]),t._v(" "),o("v-list-item-action",[o("v-icon",[t._v("mdi-plus")])],1)],1)]}))],2)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{VBtn:_.a,VCard:C.a,VCardActions:w.a,VCardText:w.b,VChip:k.a,VCol:x.a,VContainer:O.a,VDialog:V.a,VIcon:$.a,VImg:j.a,VList:P.a,VListItem:L.a,VListItemAction:D.a,VListItemTitle:S.c,VRow:U.a,VSpacer:I.a,VToolbar:T.a,VToolbarTitle:A.a})}}]);